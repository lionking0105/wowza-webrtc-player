<!DOCTYPE html>
<html>
  <head>
    <title>Play example</title>
  </head>
  <body>
    <video style="background-color:black" width="640" height="480"></video>
    <br/>
    <button type="button" id="play" onclick="_play()">Play</button>
    <button type="button" id="stop" onclick="_pause()" style="display:none">Stop</button>
    <span id="state"></span>
  </body>
  <script type="module">
    import { WowzaWebRTCPlayer } from '../dist/esm/wowza-webrtc-player.js';

    const player = new WowzaWebRTCPlayer(document.querySelector('video'), {
      sdpUrl: 'wss://5e15f1c3875a4.streamlock.net/webrtc-session.json',
      applicationName: 'live',
      streamName: 'myStream'
    });

    player.on('connectionstate', state => console.log('connectionstate', state));

    const hide = (id) => document.getElementById(id).style.display = 'none';
    const show = (id) => document.getElementById(id).style.display = '';
    const setState = (state) => document.getElementById('state').textContent = state;

    window._play = async function () {
      setState('loading...')

      try {
        await player.playRemote();
        hide('play');
        show('stop');
        setState('playing...');
      } catch (e) {
        show('play');
        hide('stop');
        setState(e.statusDescription);
      }
    };

    window._pause = function () {
      player.stop();

      show('play');
      hide('stop');
      setState('');
    };
  </script>
</html>